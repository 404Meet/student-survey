<div class="container py-4">
  <h1>Student Survey</h1>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <!-- personal info -->
    <div class="row g-3">
      <div class="col-md-6">
        <label>First Name *</label>
        <input formControlName="firstName" class="form-control" />
      </div>
      <div class="col-md-6">
        <label>Last Name *</label>
        <input formControlName="lastName" class="form-control" />
      </div>

      <div class="col-md-6">
        <label>Email *</label>
        <input type="email" formControlName="email" class="form-control" />
      </div>
      <div class="col-md-6">
        <label>Telephone *</label>
        <input formControlName="telephone" class="form-control" />
      </div>

      <div class="col-md-12">
        <label>Street *</label>
        <input formControlName="street" class="form-control" />
      </div>
      <div class="col-md-4">
        <label>City *</label>
        <input formControlName="city" class="form-control" />
      </div>
      <div class="col-md-4">
        <label>State *</label>
        <input formControlName="state" class="form-control" />
      </div>
      <div class="col-md-4">
        <label>ZIP *</label>
        <input formControlName="zip" class="form-control" />
      </div>
    </div>

    <!-- survey details -->
    <div class="row g-3 mt-3">
      <div class="col-md-6">
        <label>Date of Survey *</label>
        <input type="date" formControlName="surveyDate" class="form-control" />
      </div>
      <div class="col-md-6">
        <label>Likelihood to Recommend *</label>
        <select formControlName="recommend" class="form-select">
          <option value="" disabled>Select...</option>
          <option>Very Likely</option>
          <option>Likely</option>
          <option>Unlikely</option>
        </select>
      </div>
    </div>

    <!-- liked checkboxes -->
    <fieldset class="mt-4">
      <legend>What did you like most? (â‰¥ 2 required)</legend>

      <div class="row row-cols-2 row-cols-md-3 g-2" formArrayName="liked">
        <div class="col" *ngFor="let opt of likedOptions; let i = index">
          <label class="form-check">
            <input type="checkbox" [formControlName]="i" />
            {{ opt.label }}
          </label>
        </div>
      </div>

      <div class="text-danger" *ngIf="form.errors?.['likedMin']">
        Pick at least two.
      </div>
    </fieldset>

    <!-- radio buttons -->
    <fieldset class="mt-3">
      <legend>How did you become interested? *</legend>
      <div class="d-flex flex-wrap gap-4">
        <label class="form-check">
          <input type="radio" class="form-check-input" value="friends" formControlName="interestSource" />
          Friends
        </label>
        <label class="form-check">
          <input type="radio" class="form-check-input" value="television" formControlName="interestSource" />
          Television
        </label>
        <label class="form-check">
          <input type="radio" class="form-check-input" value="internet" formControlName="interestSource" />
          Internet
        </label>
        <label class="form-check">
          <input type="radio" class="form-check-input" value="other" formControlName="interestSource" />
          Other
        </label>
      </div>
    </fieldset>

    <!-- comments -->
    <div class="mt-3">
      <label>Additional comments</label>
      <textarea formControlName="comments" rows="3" class="form-control"></textarea>
    </div>

    <div class="mt-4 d-flex gap-3">
      <button class="btn btn-success" type="submit">Submit</button>
      <button class="btn btn-outline-secondary" type="button" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
